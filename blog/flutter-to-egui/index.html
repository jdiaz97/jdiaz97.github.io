<!doctype html><html data-theme=dark lang=en xmlns=http://www.w3.org/1999/xhtml><head><meta charset=UTF-8><meta content="Personal website" name=description><meta content="width=device-width,initial-scale=1" name=viewport><meta content=#ff7800 name=theme-color><meta content=#37aba8 media=(prefers-color-scheme:dark) name=theme-color><meta content="default-src 'none';font-src 'self';img-src 'self' https: data:;media-src 'self' https:;style-src 'self' 'unsafe-inline';frame-src https://player.vimeo.com https://www.youtube-nocookie.com https://toot.community;base-uri 'none';form-action 'none';connect-src 'self' https://vmst.io https://toot.community;script-src 'self' 'self'" http-equiv=content-security-policy><title>Why I Switched from Flutter + Rust to Rust + egui - Greenblog</title><link href=https://jdiaz97.github.io/blog/flutter-to-egui/ rel=canonical><link href=https://vmst.io/@daudix rel=me><meta content=@daudix@vmst.io name=fediverse:creator><link href=https://jdiaz97.github.io/favicon.png rel=icon type=image/png><link href=https://jdiaz97.github.io/apple-touch-icon.png rel=apple-touch-icon sizes=180x180 type=image/png><link title="Greenblog - RSS Feed" href=https://jdiaz97.github.io/rss.xml rel=alternate type=application/rss+xml><link title="Greenblog - Atom Feed" href=https://jdiaz97.github.io/atom.xml rel=alternate type=application/atom+xml><style>:root{--accent-color:#ff7800}[data-theme=dark]{--accent-color:#37aba8}@media (prefers-color-scheme:dark){:root:not([data-theme=light]){--accent-color:#37aba8}}</style><link href=https://jdiaz97.github.io/style.css rel=stylesheet><link href=https://jdiaz97.github.io/icons.css rel=stylesheet><link media="(prefers-color-scheme: light)" href=https://jdiaz97.github.io/syntax-theme-light.css rel=stylesheet><link media="(prefers-color-scheme: dark)" href=https://jdiaz97.github.io/syntax-theme-dark.css rel=stylesheet><script defer src=https://jdiaz97.github.io/closable.js></script><script defer src=https://jdiaz97.github.io/copy-button.js></script><script defer src=https://jdiaz97.github.io/fuse.js></script><script defer src=https://jdiaz97.github.io/search-fuse.js></script><meta content=Greenblog property=og:site_name><meta content="Why I Switched from Flutter + Rust to Rust + egui - Greenblog" property=og:title><meta content=https://jdiaz97.github.io/blog/flutter-to-egui/ property=og:url><meta content="Random thoughts and lesons" property=og:description><meta content=https://jdiaz97.github.io/card.png property=og:image><meta content=en_US property=og:locale><body><header id=site-nav><nav><a href=#main-content tabindex=0> Skip to Main Content </a><ul><li id=home><a href=https://jdiaz97.github.io> <i class=icon></i>Greenblog</a><li class=divider><li><a href=https://jdiaz97.github.io/blog/>Blog</a><li><a href=https://jdiaz97.github.io/projects/>Projects</a><li id=search><button class=circle id=search-toggle title=Search><i class=icon></i></button></ul></nav><div id=search-container><label class=visually-hidden for=search-bar>Search</label><input placeholder="Search for…" autocomplete=off disabled id=search-bar type=search><div id=search-results-container><div id=search-results></div></div></div></header><main id=main-content><article><div id=heading><p><small> <time datetime=" 2025-06-24T00:00:00+00:00">Published on June 24, 2025</time></small><h1>Why I Switched from Flutter + Rust to Rust + egui</h1><p><small><span>By José Díaz</span><span> • </span><span>5 minutes read</span><span> • </span></small><ul class=tags><a class=tag href=https://jdiaz97.github.io/tags>tags:</a><li><a class=tag href=https://jdiaz97.github.io/tags/flutter/>Flutter</a><li><a class=tag href=https://jdiaz97.github.io/tags/rust/>Rust</a><li><a class=tag href=https://jdiaz97.github.io/tags/ai/>AI</a></ul><br></div><div id=buttons-container><details class=closable id=toc><summary title="Table of Contents"><i class=icon></i></summary> <div><strong class=title>Table of Contents</strong><div><ol><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#flutter-rust>Flutter + Rust</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#rust-egui>Rust + egui</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#minimizing-complexity>Minimizing complexity</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#playing-to-my-strengths>Playing to my strengths</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#immediate-mode-is-a-great-paradigm-for-ui>Immediate mode is a great paradigm for UI</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#performance>Performance</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#anyway>Anyway</a></ol></div></div></details><a title="Go to Top" href=#top id=go-to-top><i class=icon></i></a><a href="https://shareopenly.org/share/?url=https://jdiaz97.github.io/blog/flutter-to-egui/&text=Random%20thoughts%20and%20lesons" id=share title=Share><i class=icon></i></a><a title="File an Issue" href=https://codeberg.org/daudix/duckquill/issues id=issue><i class=icon></i></a></div><h2>Table of Contents</h2><ol><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#flutter-rust>Flutter + Rust</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#rust-egui>Rust + egui</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#minimizing-complexity>Minimizing complexity</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#playing-to-my-strengths>Playing to my strengths</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#immediate-mode-is-a-great-paradigm-for-ui>Immediate mode is a great paradigm for UI</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#performance>Performance</a><li><a href=https://jdiaz97.github.io/blog/flutter-to-egui/#anyway>Anyway</a></ol><p>This is just a personal experience, there are no absolute truths. Like in any other blog post, a lot of the things you’ll read here could be just a skill issue, or legitimate issues. It’s up to you to decide.<h1 id=flutter-rust>Flutter + Rust</h1><p>We had an app that had a nice Flutter UI that called Rust binaries. The bindings were generated using <a href=https://github.com/fzyzcjy/flutter_rust_bridge>flutter_rust_bridge</a>, which is an amazing piece of software. A lot of people have built large and complex apps using this tool. It’s crazy how far it can just work, just by running:<pre class=z-code><code><span class="z-text z-plain">flutter_rust_bridge_codegen generate
</span></code></pre><p>That’s really all it takes for many, many, many cases.<p>But I got frustrated for the few times that ‘generate’ won’t work, for the times where FFI wasn’t just working, and for the times that I had to spend energy designing a public API that was 100% friendly for Rust &lt;-> Flutter.<h1 id=rust-egui>Rust + egui</h1><p>After some time of being frustrated with the current stack, I was thinking of dropping Flutter, I didn’t want to think about FFI anymore. I chose <a href=https://github.com/emilk/egui>egui</a> to check if it was feasible to move the UI code with very little friction. I came to know about egui because of the extremely impressive work they’ve done to build <a href=https://github.com/rerun-io/rerun>rerun</a>. I was very motivated to try this.<p>After rewriting most of the UI code in egui during a weekend, I decided to move and leave Flutter behind. But why?<h1 id=minimizing-complexity>Minimizing complexity</h1><p>Having 2 programming languages adds complexity. BoquilaHUB is a small software project, I don’t want it to have unnecessary complexity.<p>Not all complexity is unnecessary, you do sometimes need it in order to make progress and get things done. So, how much complexity is unnecessary complexity?<p>We can measure this by looking at lines of code. In my case, ‘flutter_rust_bridge_codegen generate’ will generate a few thousand lines of code. I don’t understand this generated code, it’s not readable. Do I really want to have some code I don’t understand in my project folder? In earlier versions of the project, sometimes the amount of generated lines would be higher than the lines written by me. This balance would change depending on the API, but it’s always quite big.<p>I want to understand my project, I want to understand what I’m compiling. I can’t optimize generated lines that aren’t readable and will change in mysterious ways when I change the API.<h1 id=playing-to-my-strengths>Playing to my strengths</h1><p>There is only 1 programmer in the project, and that’s me. I was hoping to get funding to get an actually good GUI person who could make great use of Flutter to create a wonderful GUI experience. That didn’t happen, so the Flutter capabilities were very underused.<p>Flutter:</p><img src=flutter_rust.jpg style=width:auto;height:500px><p>Egui:</p><img src=flutter_rust2.jpg style=width:auto;height:500px><p>Of course, making the Flutter one look good is possible and easy if you’re good at it. I wasn’t, and egui just worked better for me. I didn’t even make an effort to make it look good; I just grabbed a minimal template and modified it, and it looks great.<h1 id=immediate-mode-is-a-great-paradigm-for-ui>Immediate mode is a great paradigm for UI</h1><p>A quick Google search with “flutter setstate is not refreshing” reveals a struggle that you will face quite often when running Flutter. It sounds like an easy fix, but the nature of Flutter using a bunch of nested Widgets creates, naturally, lasagna code that makes it hard to reason about this.<p>When moving to egui, I recreated the whole UI with 0 cases of this problem. It’s a different paradigm, in every frame the UI will refresh, so you don’t have to struggle. You don’t have to make complex callbacks or deal with state management frameworks like getx, provider, bloc, or whatever else there is. If you work with the paradigm and not against it, you’re done, you can make great progress.<p>Do you need to add a button? In Rust:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-control z-rust">if</span> ui<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">button</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>click me<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clicked</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span>did_user_click <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> trigger a bunch of logic elsewhere, if you want!
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> also do whatever you want
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></code></pre><p>That’s it, you will 100% see the change in your UI, no callbacks, no stateful vs stateless widgets, no googling why your UI is not refreshing. No learning a new metaframework (getx, bloc, provider, etc) for a framework (flutter) to deal with state. It just works in egui.<h1 id=performance>Performance</h1><p>This is not about Rust being fast and Dart being slow. It’s about my personal appreciation that the final app in 100% Rust was faster.<p>The previous slowness maybe was a side effect of having unmonitored FFI, how much was I cloning? I don’t know. The app calls ONNX Runtime, which is written in C. This is called from Rust using <a href=https://github.com/pykeio/ort>ort</a>, and before, Dart would call these binaries to let me do the inference in Flutter. Maybe all of this made the app drag a bit.<p>Now it just feels faster and way more snappy.<h1 id=anyway>Anyway</h1><p>That’s it. If you fancy AI for biodiversity, feel free to support <a href=https://github.com/boquila/boquilahub/>BoquilaHUB</a> at this <a href=https://boquila.org/donate>link</a>.</article><hr><nav id=post-nav><a class="post-nav-item post-nav-next" href=https://jdiaz97.github.io/blog/ai-for-biodiversity-in-rust/> <div class=nav-arrow>Next</div> <span class=post-title>Using Rust to run the most powerful AI models for Camera Trap processing</span> </a></nav></main><footer id=site-footer><ul id=socials><li><a rel=" me" href=https://github.com/jdiaz97/ title=GitHub> <i style="--icon:url(&#34;data:image/svg+xml,%3Csvg role='img' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3EGitHub%3C/title%3E%3Cpath d='M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12'/%3E%3C/svg%3E&#34;)" class=icon></i> <span>GitHub</span> </a></ul></footer><span class=hidden id=copy-code-text>Copy Code</span><span class=hidden id=search-index>https://jdiaz97.github.io/search_index.en.json</span><span class=hidden id=more-matches-text>$MATCHES more matches</span><style>:root{--alert-note-text:"Note";--alert-tip-text:"Tip";--alert-important-text:"Important";--alert-warning-text:"Warning";--alert-caution-text:"Caution"}</style>